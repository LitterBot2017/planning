%homography script
clear all;
close all;



in = ...
[120.201492537313, 140.500000000000;
193.037313432836, 140.500000000000;
266.470149253731, 138.708955223881;
339.902985074627, 138.111940298508;
413.932835820896, 138.111940298508;
486.171641791045, 136.917910447761;
561.395522388060, 135.126865671642;
193.037313432836, 191.246268656716;
266.470149253731, 190.649253731343;
339.902985074627, 190.649253731343;
412.738805970149, 190.649253731343;
486.171641791045, 188.858208955224;
561.395522388060, 187.664179104478;
121.395522388060, 265.873134328358;
193.634328358209, 264.082089552239;
267.067164179105, 264.679104477612;
339.902985074627, 264.082089552239;
413.932835820896, 264.082089552239;
486.768656716418, 264.082089552239;
561.395522388060, 262.291044776119]'

img = imread('WIN_20170320_16_56_03_Pro_small.jpg');

figure;
imshow(img);
hold on;
scatter(in(1,:),in(2,:),30,'c');

out = ...
[ 37,30;
  37,20;
  37,10;
  37,0;
  37,-10;
  37,-20;
  37,-30;
%  30,30;
  30,20;
  30,10;
  30,0;
  30,-10;
  30,-20;
  30,-30;
  20,30;
  20,20;
  20,10;
  20,0;
  20,-10;
  20,-20;
  20,-30]'

  h = homography_solve(in,out);
  
  tformd = homography_transform(in,h);
  
  figure;
  scatter(tformd(1,:),tformd(2,:),30,'c');